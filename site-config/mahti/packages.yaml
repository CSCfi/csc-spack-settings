packages:
  all:
    permissions:
      write: group
      group: m_installation_spack
    compiler: [gcc, intel]
    providers:
      mpi: [openmpi, hpcx-mpi, mpich]
      blas: [openblas, amd-blis]
      lapack: [openblas, amd-libflame]
      scalapack:: [amd-scalapack, netlib-scalapack]
  amd-blis:
    variants: threads=openmp
  amd-libflame:
    variants: threads=openmp
  libtool:
    version: [2.4.2, 2.4.6]
  openblas:
    variants: threads=openmp
  openssl:
    buildable: false
    paths:
      openssl@1.0.2k: /usr
  openmpi:
    variants: fabrics=ucx schedulers=slurm +thread_multiple
    version: [4.0.3]
  slurm:
    buildable: false
    paths:
      slurm@19.05.0: /usr
  pkg-config:
    buildable: true
    paths:
      pkg-config@0.27.1: /usr
  gnutls:
    buildable: false
    paths:
      gnutls@3.3.29: /usr
  fftw:
    variants: +fma simd=avx2
  gromacs:
    variants: ~hwloc simd=AVX2_256
  sharp:
    buildable: false
    paths:
      sharp@2.1: /appl/opt/sharp/2.1
  hcoll:
    buildable: false
    paths:
      hcoll@4.5.3045: /appl/opt/hcoll/4.5.3045
  ucx:
    variants: +thread_multiple
    buildable: false
    paths:
      ucx@1.8.0-mlnx~cuda+thread_multiple: /appl/opt/ucx/1.8.0-mlnx/mt
      ucx@1.8.0-mlnx~cuda~thread_multiple: /appl/opt/ucx/1.8.0-mlnx
  intel-parallel-studio:
    buildable: false
    paths:
      intel-parallel-studio@cluster.2020.1%gcc@4.8.5 threads=openmp: /appl/opt/cluster_studio_xe2020
  intel:
    buildable: false
    paths:
      intel@19.1.1%gcc@4.8.5: /appl/opt/cluster_studio_xe2020/compilers_and_libraries_2020.1.217
